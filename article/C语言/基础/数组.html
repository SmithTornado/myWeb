<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>C语言输入输出</title>
    <link rel="stylesheet" href="../../../highlight/styles/arta.min.css">
    <link rel="stylesheet" href="../../../css/article-common.css">
</head>
<body>
    <h1>C语言输入输出</h1>
    <p>C语言无自带输入输出语句，需通过标准库函数实现数据读写，核心依赖 <code>&lt;stdio.h&gt;</code> 头文件，常用函数分为格式化操作、字符操作、字符串操作三类，是实现程序交互的基础。</p>

    <h2>一、核心前提：引入头文件</h2>
    <p>所有输入输出函数均声明于标准输入输出头文件中，程序开头需通过预处理指令引入，确保函数正常调用。</p>
    <pre><code class="language-c">#include &lt;stdio.h&gt; // 引入输入输出标准库，所有IO函数依赖此头文件</code></pre>

    <h2>二、输出函数（程序→外部设备）</h2>
    <p>用于将程序中的数据输出到屏幕，满足不同数据类型的输出需求，常用函数如下：</p>

    <h3>1. printf：格式化输出（核心）</h3>
    <p>功能：支持多类型数据自定义格式输出，灵活度最高，是最常用的输出函数。</p>
    <p>语法：<code>printf("格式化字符串", 输出项1, 输出项2, ...);</code></p>
    <p>核心：格式化字符串中用格式说明符对应输出项，格式说明符以 <code>%</code> 开头，数量需与输出项一致。</p>

    <h4>常用格式说明符</h4>
    <ul>
        <li><code>%d</code>：输出十进制整型（int）</li>
        <li><code>%f</code>：输出浮点型（float/double），默认保留6位小数</li>
        <li><code>%c</code>：输出单个字符（char）</li>
        <li><code>%s</code>：输出字符串（char数组/字符串常量）</li>
        <li><code>%ld</code>：输出长整型（long）</li>
        <li><code>%.nf</code>：输出浮点型并保留n位小数（如<code>%.2f</code>保留2位）</li>
        <li><code>\n</code>：换行符，控制输出换行</li>
        <li><code>\t</code>：制表符，实现内容对齐</li>
    </ul>

    <pre><code class="language-c">#include &lt;stdio.h&gt;
int main() {
    int age = 20;
    float score = 95.5;
    char gender = 'M';
    char name[] = "Zhang San";
    long num = 123456789;

    // 基础类型输出
    printf("年龄：%d\n", age);
    printf("编号：%ld\n", num);
    printf("默认成绩：%f\n", score);
    printf("保留2位成绩：%.2f\n", score);
    printf("性别：%c\n", gender);
    printf("姓名：%s\n", name);

    // 多数据组合输出
    printf("姓名：%s\t年龄：%d\t成绩：%.1f\n", name, age, score);
    return 0;
}</code></pre>

    <h3>2. putchar：单个字符输出</h3>
    <p>功能：仅输出1个字符，语法简单，仅适用于单个字符的快速输出。</p>
    <p>语法：<code>putchar(字符常量/字符变量);</code></p>
    <pre><code class="language-c">#include &lt;stdio.h&gt;
int main() {
    char ch1 = 'A';
    putchar(ch1); // 输出字符变量
    putchar('B'); // 输出字符常量
    putchar('\n'); // 输出换行符
    putchar(65); // 输出ASCII码对应的字符（65对应'A'）
    return 0;
}</code></pre>

    <h3>3. puts：字符串输出</h3>
    <p>功能：输出1个字符串，自动在字符串末尾添加换行符，无需手动写<code>\n</code>。</p>
    <p>语法：<code>puts(字符串常量/字符数组);</code></p>
    <pre><code class="language-c">#include &lt;stdio.h&gt;
int main() {
    char str[] = "Hello C Language";
    puts(str); // 输出字符数组，自动换行
    puts("输入输出函数学习"); // 输出字符串常量，自动换行
    return 0;
}</code></pre>

    <h2>三、输入函数（外部设备→程序）</h2>
    <p>用于从键盘读取数据到程序变量中，需注意变量地址传递和输入格式匹配，确保数据读取准确。</p>

    <h3>1. scanf：格式化输入（核心）</h3>
    <p>功能：支持多类型数据读取，需通过格式说明符匹配输入数据类型，是最常用的输入函数。</p>
    <p>语法：<code>scanf("格式化字符串", &amp;变量1, &amp;变量2, ...);</code></p>
    <p>关键注意：
        1. 除字符串变量外，其他变量需加 <code>&amp;</code>（取地址符），将输入数据存入变量内存；
        2. 格式说明符需与变量类型完全匹配；
        3. 输入多个数据时，用空格、回车或Tab键分隔。
    </p>

    <h4>常用格式说明符（与printf一致）</h4>
    <ul>
        <li><code>%d</code>：读取十进制整型到int变量</li>
        <li><code>%f</code>：读取浮点型到float/double变量</li>
        <li><code>%c</code>：读取单个字符到char变量</li>
        <li><code>%s</code>：读取字符串到char数组（自动添加<code>\0</code>）</li>
        <li><code>%ld</code>：读取长整型到long变量</li>
    </ul>

    <pre><code class="language-c">#include &lt;stdio.h&gt;
int main() {
    int a, b;
    float f;
    char ch;
    char str[20];

    // 读取两个整型
    printf("输入两个整数：");
    scanf("%d %d", &amp;a, &amp;b);
    printf("输入的整数：%d, %d\n", a, b);

    // 读取浮点型
    printf("输入一个小数：");
    scanf("%f", &amp;f);
    printf("输入的小数：%.2f\n", f);

    // 读取单个字符（清空缓冲区残留回车）
    getchar();
    printf("输入一个字符：");
    scanf("%c", &amp;ch);
    printf("输入的字符：%c\n", ch);

    // 读取字符串
    printf("输入一个字符串：");
    scanf("%s", str);
    printf("输入的字符串：%s\n", str);
    return 0;
}</code></pre>

    <h3>2. getchar：单个字符输入</h3>
    <p>功能：仅读取1个字符，可读取空格、回车等空白字符，也可用于清空输入缓冲区。</p>
    <p>语法：<code>char 变量名 = getchar();</code></p>
    <pre><code class="language-c">#include &lt;stdio.h&gt;
int main() {
    char ch;
    printf("输入一个字符：");
    ch = getchar();
    printf("输入的字符：%c\n", ch);

    // 清空缓冲区残留回车
    getchar();
    printf("再输入一个字符：");
    ch = getchar();
    printf("输入的字符：%c\n", ch);
    return 0;
}</code></pre>

    <h2>四、常见问题与注意事项</h2>
    <ul>
        <li><strong>地址符使用</strong>：scanf读取基本类型变量（int、float、char）需加<code>&amp;</code>，字符串数组无需加<code>&amp;</code>。</li>
        <li><strong>缓冲区残留</strong>：用scanf读取字符前，若有前置输入，需用getchar清空残留的回车，避免读取错误。</li>
        <li><strong>格式匹配</strong>：scanf格式说明符需与输入数据类型一致，否则读取失败，变量为随机值。</li>
        <li><strong>字符串读取限制</strong>：scanf读取字符串遇空格、回车停止，无法读取带空格的字符串。</li>
        <li><strong>puts自动换行</strong>：puts输出自带换行，连续调用会自动分行，无需额外加<code>\n</code>。</li>
    </ul>

    <h2>五、函数对比与使用场景</h2>
    <table border="1" cellpadding="8" cellspacing="0" style="width:100%; border-collapse:collapse;">
        <tr>
            <th>函数名</th>
            <th>功能特点</th>
            <th>适用场景</th>
        </tr>
        <tr>
            <td>printf</td>
            <td>多类型、自定义格式输出，灵活度最高</td>
            <td>多数据组合、指定格式输出</td>
        </tr>
        <tr>
            <td>putchar</td>
            <td>仅输出单个字符，语法简单</td>
            <td>单个字符快速输出</td>
        </tr>
        <tr>
            <td>puts</td>
            <td>仅输出字符串，自动换行</td>
            <td>单个字符串输出（需换行）</td>
        </tr>
        <tr>
            <td>scanf</td>
            <td>多类型、格式化读取，灵活度最高</td>
            <td>多数据、指定类型读取</td>
        </tr>
        <tr>
            <td>getchar</td>
            <td>仅读取单个字符，可读空白字符</td>
            <td>单个字符读取、清空缓冲区</td>
        </tr>
    </table>
</body>
    <script type="text/javascript" src="../../../highlight/highlight.min.js"></script>
    <script type="text/javascript" src="../../../js/article-common.js"></script>
    <script type="text/javascript">hljs.highlightAll();</script>
    <script>
        addCopy('pre', 20, 20)            
    </script>
</html>
